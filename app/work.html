<!DOCTYPE html>
<html lang="en">


<head>

    <title>webbasierte Plattform zur kollaborativen Analyse von Erdbeobachtungsdaten</title>
    <meta name="author" content="Torben Kraft" />

    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- import stylesheets library -->

    <link rel="stylesheet" type="text/css" href="lib/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="lib/css/bootstrap-theme.min.css" />
    <!-- optional -->
    <link rel="stylesheet" type="text/css" href="lib/css/leaflet.css" />
    <link rel="stylesheet" type="text/css" href="lib/css/leaflet.draw.css" />
    <link rel="stylesheet" type="text/css" href="lib/css/leaflet-routing-machine.css" />
    <link rel="stylesheet" type="text/css" href="lib/css/Control.Geocoder.css" />
    <link rel="stylesheet" type="text/css" href="lib/css/lightbox.css">
    <!--     <link rel="stylesheet" href="lib/css/themes/default/style.min.css" /> -->

    <link rel="stylesheet" type="text/css" href="css/work.css" />

    <link rel="stylesheet" href="js/dist/themes/default/style.min.css" />

    <script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
    <script src="js/etherpad.js"></script>


</head>

<body id="myBody" onload="showMap()">



    <div id="myNavbar">
        <nav class="navbar navbar-inverse">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand" href="#">Gaia</a>
                </div>
                <div class="collapse navbar-collapse" id="myNavbarButtons">
                    <ul class="nav navbar-nav">
                        <li>
                            <a title="show homepage" href="home.html">
                                <span class="glyphicon glyphicon-star-empty" aria-hidden="true"></span>home
                            </a>
                        </li>
                        <li class="active">
                            <a title="show workplace" href="work.html">
                                <span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span>workplace
                            </a>
                        </li>

                    </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="workProfilSymb">symbol? <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a href="profil.html">Profil</a></li>
                                <li><a title="click to edit profile" href="profiledit.html">profile-edit</a></li>
                                <li><a title="click to get information about Gaia" href="impressum.html">About</a></li>
                                <li><a title="logout" onclick='logout()'>Logout</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>

    <div id="desktop" class="container-fluid">


        <div class="row">
            <div class="col-md-3">

                <div class="myPanel">
                    <div class="panel-group">
                        <div class="panel panel-default">
                            <div id="treeID" class="panel panel-heading">
                                tree view
                            </div>
                            <div id="treeView" class="panel panel-body">
                                Project:
                                <div id="jstree">

                                    <!-- in this example the tree is populated from inline HTML -->
                                    <ul id="treeList">
                                        <li id="rootList">Projectname
                                            <ul id="childList">
                                                <li id="scripts_node_1">Scripts</li>
                                                <li id="images_node_1">Images</li>
                                                <li id="results_node_1">Results</li>

                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                                <button id="buttonTree">demo button</button>

                            </div>
                        </div>
                    </div>
                </div>


            </div>
            <div class="col-md-1">

                <div class="myPanel">
                    <div class="panel-group">
                        <div class="panel panel-default">
                            <div class="panel panel-heading">
                                functionsMap
                            </div>
                            <div id="functionsMap" class="panel panel-body">
                                here will be the buttons for the functions - with dropdown?
                                <button id='saveProjectBtn' onclick='' type='button-tree' class='btn btn-savePrj'>save Prj</button>
                                <button id='test' onclick='showMap()' type='button' class='btn btn-test'>test</button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="col-md-8">

                <div class="myPanel">
                    <div class="panel-group">
                        <div class="panel panel-default">
                            <div id="leafletmap" class="panel panel-body">
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div class="row">
            <div class="col-md-3">

                <div class="myPanel">
                    <div class="panel-group">
                        <div class="panel panel-default">
                            <div class="panel panel-heading">
                                Information
                            </div>
                            <div id="information" class="panel panel-body">
                                <p id="CreatorInfo"></p>
                                <p id="CollaboratorInfo"></p>
                                <button type="button" class="btn btn-toSettings">Settings</button>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
            <div class="col-md-1">

                <div class="myPanel">
                    <div class="panel-group">
                        <div class="panel panel-default">
                            <div class="panel panel-heading">
                                functionsR
                            </div>
                            <div id="functionsR" class="panel panel-body">


                            </div>
                        </div>
                    </div>


                    <!-- <a href="#" onclick="testGetScript()">testGetScript</a>
                  <a href="#" onclick="testPostScript()">testPostScript</a>
                  <a href="#" onclick="execScript()">execScript</a>

                  <a href="#" onclick="execPHPget()">execPHPget</a>
                  <a href="#" onclick="execPHPpost()">execPHPpost</a>
                  <a href="#" onclick="execPHPpost2()">execPHPpost2</a> -->
                    <a href="#" onclick="executeScript()">TEST</a>



                    <!-- <a href="#" onclick="getOutput()">getOutput</a>

                  <a href="#" onclick="doSomething()">doSomething</a>

                  <a href="#" onclick="thisfunction()">thisfunction</a>

                  <a href="#" onclick="confirm_delete()">confirm_delete</a>
 -->


                    <!-- <button id='execPHP' onclick='execPHP()' type='button'>execPHP</button> -->

                </div>
            </div>
        </div>
    </div>



    <div class="col-md-8">

        <div class="myPanel">
            <div class="panel-group">

                <ul class="nav nav-tabs">
                    <li class="active"><a data-toggle="tab" href="#home">Script</a></li>
                    <li><a data-toggle="tab" href="#menu1">Menu 1</a>

                    </li>

                </ul>

                <div class="tab-content">
                    <div id="home" class="tab-pane fade in active">
                        <div class="form-group">
                            <script type="text/javascript">
                                var div = document.createElement('div'); // div Element wird erstellt


                                var userArray = document.cookie.split("=");
                                var userJSON = JSON.parse(userArray[1]);
                                var ID = userJSON.data.LastName; // hier wird ID definiert
                                div.id = ID;




                                var body = document.querySelector('body');
                                document.getElementsByTagName('div')[37].appendChild(div); // div wird im Body an der stelle 37 hinten dran gehängt


                                << << << < HEAD
                                console.log(div.id); === === = < ul class = "nav nav-tabs" >
                                    < li class = "active" > < a data - toggle = "tab"
                                href = "#home" > Script < /a></li >



                                    < li > < a data - toggle = "tab"
                                href = "#menu1" > Menu 1 < /a></li >
                                    < li > < a data - toggle = "tab"
                                href = "#menu2" > Menu 2 < /a></li >
                                    < li > < a data - toggle = "tab"
                                href = "#menu3" > OpenCPU < /a></li >

                                    < /ul> >>> >>> > origin /
                                master

                                /////////////////////////////////////
                                //das Problem ist nur in der 82 Zeile



                                $(this.div).pad({ // anstatt Hamzin soll hier ein Platzhalter für die id stehen
                                    'padId': userJSON.data.LastName + userJSON.data.Firstname, // wie das ep heißen soll @Raoul wie besprochen musst das hier sich aus der Email Adresse und des Projektes zusammensetzen
                                    'userName': userJSON.data.Firstname, //der Name der eingeloggten person im ep

                                    'plugins': {
                                        'pageview': 'false',

                                    }


                                }); // sets the pad id, some plugin parameters, and puts the pad in the div






                                ////////////////////////////////////
                                //Baustelle


                                document.getElementById('epframe' + div.id).getContext;

                                console.log(document.getElementById('epframe' + div.id));





                                function getElementByIdInFrames(id, base) {  
                                    var el;  
                                    if (el = base.document.getElementById(id)) {    
                                        return el;  

                                    }   
                                    for (var i = 0, len = base.frames.length; i < len; i++) {    
                                        if (el = getElementByIdInFrames(id, base.frames[i])) {      
                                            return el;  

                                        }  
                                    }
                                }

                                console.log($('iframe[name="ace_inner"]').contents().find('iframe').contents().find("#innerdocbody"));




                                ////////////////////////////////////
                                //Ende der Baustelle
                            </script>





                            <h3>Menu 1</h3>
                            <p>Some content in menu 1.</p>

                        </div>
                        <div id="menu2" class="tab-pane fade">
                            <!-- <div id="output">waiting for action</div> -->
                        </div>

                        <div id="menu3" class="tab-pane fade">

                            <h1>Posting Code Snippets</h1>
                            <textarea id="input" rows="4" cols="50">
                                x = rnorm(1000) plot(x) mean(x)
                            </textarea>
                            <br />
                            <button id="submitbutton" type="button">Call R</button>
                            <pre><code id="output"></code></pre>

                        </div>



                        <div id="addScript" class="tab-pane fade">
                        </div>

                    </div>

                </div>
            </div>




        </div>
    </div>

    <!-- library imports -->
    <script type="text/javascript" src="lib/js/jsnlog.min.js"></script>
    <script type="text/javascript" src="lib/js/jquery.js"></script>
    <script type="text/javascript" src="lib/js/jquery.min.js"></script>
    <script type="text/javascript" src="lib/js/bootstrap.min.js"></script>


    <script type="text/javascript" src="lib/js/jquery-1.11.3.min.js"></script>
    <!-- <script type="text/javascript" src="lib/js/bootstrap.min.js"></script> -->
    <!-- dropdown is working now -->
    <script type="text/javascript" src="lib/js/leaflet.js"></script>
    <script type="text/javascript" src="lib/js/leaflet.draw.js"></script>
    <!-- <script type="text/javascript" src="lib/js/leaflet-routing-machine.js"></script> -->
    <!-- <script type="text/javascript" src="lib/js/MicrosoftAjax.js"></script> -->
    <!-- <script type="text/javascript" src="lib/js/Control.Geocoder.js"></script> -->
    <script type="text/javascript" src="lib/js/lightbox.js"></script>



    <script src="lib/js/opencpu-0.4.js"></script>
    <script type="text/javascript" src="js/myOpenCPU.js"></script>

    <!-- script imports -->

    <!-- script: map -->
    <script type="text/javascript" src="js/mapBuilder.js"></script>
    <script type="text/javascript" src="js/mapShow.js"></script>
    <!-- script: userManagement -->

    <script type="text/javascript" src="js/sessionFunctionality.js"></script>
    <script type="text/javascript" src="js/projectManagement.js"></script>
    <script type="text/javascript" src="js/projectEditing.js"></script>
    <script type="text/javascript" src="js/execPHP.js"></script>


    <script type="text/javascript" src="lib/js/jstree.min.js"></script>




</body>

</html>